apply plugin: 'com.android.model.library'

model {
    android {
        compileSdkVersion 23
        buildToolsVersion "23.0.2"

        ndk {
            moduleName "native"
            ldLibs.add("log")
            CFlags.add("-DSTDC_HEADERS")
        }

//        sources {
//            main {
//                jni {
//                    source {
//                        exclude "/libmp3lame/bitstream.h"
//                        exclude "/libmp3lame/encoder.h"
//                        exclude "/libmp3lame/fft.h"
//                        exclude "/libmp3lame/gain_analysis.h"
//                        exclude "/libmp3lame/id3tag.h"
//                        exclude "/libmp3lame/lame.h"
//                        exclude "/libmp3lame/lame.rc"
//                        exclude "/libmp3lame/lame-analysis.h"
//                        exclude "/libmp3lame/lame_global_flags.h"
//                        exclude "/libmp3lame/lameerror.h"
//                        exclude "/libmp3lame/machine.h"
//                        exclude "/libmp3lame/newmdct.h"
//                        exclude "/libmp3lame/psymodel.h"
//                        exclude "/libmp3lame/quantize.h"
//                        exclude "/libmp3lame/quantize_pvt.h"
//                        exclude "/libmp3lame/reservoir.h"
//                        exclude "/libmp3lame/set_get.h"
//                        exclude "/libmp3lame/tables.h"
//                        exclude "/libmp3lame/util.h"
//                        exclude "/libmp3lame/vbrquantize.h"
//                        exclude "/libmp3lame/VbrTag.h"
//                        exclude "/libmp3lame/version.h"
//
//                    }
//                }
//            }
//        }

        defaultConfig {
            minSdkVersion.apiLevel 16
            targetSdkVersion.apiLevel 23
            versionCode 1
            versionName "1.0"
        }
        buildTypes {
            release {
                minifyEnabled false
                proguardFiles.add(file("proguard-rules.pro"))
            }
        }
        productFlavors {
            create ("arm7") {
                ndk.abiFilters.add("armeabi-v7a")
            }
            create ("arm8") {
                ndk.abiFilters.add("arm64-v8a")
            }
            create ("x86-32") {
                ndk.abiFilters.add("x86")
            }
            // for detailed abiFilter descriptions, refer to "Supported ABIs" @
            // https://developer.android.com/ndk/guides/abis.html#sa
            // build one including all productFlavors
            create("fat")
        }
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.android.support:appcompat-v7:23.1.1'
}
